<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var b=window,e="chrome",g="tick",h="wtsrt_",l="tbsd_",m="tbnd_",n="start",p="_wtsrt",q="_tbnd",r="CSI/";(function(){function k(a){this.t={};this.tick=function(a,d,c){this.t[a]=[void 0!=c?c:(new Date).getTime(),d];if(void 0==c)try{b.console.timeStamp(r+a)}catch(f){}};this[g](n,null,a)}var a;b.performance&&(a=b.performance.timing);var s=a?new k(a.responseStart):new k;b.jstiming={Timer:k,load:s};if(a){var d=a.navigationStart,f=a.responseStart;0<d&&f>=d&&(b.jstiming.srt=f-d)}if(a){var c=b.jstiming.load;0<d&&f>=d&&(c[g](p,void 0,d),c[g](h,p,f),c[g](l,h))}try{a=null,b[e]&&b[e].csi&&(a=Math.floor(b[e].csi().pageT),
c&&0<d&&(c[g](q,void 0,b[e].csi().startE),c[g](m,q,d))),null==a&&b.gtbExternal&&(a=b.gtbExternal.pageT()),null==a&&b.external&&(a=b.external.pageT,c&&0<d&&(c[g](q,void 0,b.external.startE),c[g](m,q,d))),a&&(b.jstiming.pt=a)}catch(t){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="//www.google.com/images/icons/product/sites-16.ico" />
<link rel="apple-touch-icon" href="http://www.gstatic.com/sites/p/d6b7b0/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d=window,e="length",h="",k="__duration__",l="function";function m(c){return document.getElementById(c)}d.byId=m;function n(c){return c.replace(/^\s+|\s+$/g,h)}d.trim=n;var p=[],q=0;d.JOT_addListener=function(c,a,b){var f=new String(q++);c={eventName:c,handler:a,compId:b,key:f};p.push(c);return f};d.JOT_removeListenerByKey=function(c){for(var a=0;a<p[e];a++)if(p[a].key==c){p.splice(a,1);break}};d.JOT_removeAllListenersForName=function(c){for(var a=0;a<p[e];a++)p[a].eventName==c&&p.splice(a,1)};
d.JOT_postEvent=function(c,a,b){var f={eventName:c,eventSrc:a||{},payload:b||{}};if(d.JOT_fullyLoaded)for(a=p[e],b=0;b<a&&b<p[e];b++){var g=p[b];g&&g.eventName==c&&(f.listenerCompId=g.compId||h,(g=typeof g.handler==l?g.handler:d[g.handler])&&g(f))}else d.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};d.JOT_delayedEvents=[];d.JOT_fullyLoaded=!1;
d.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var f=0;60<=b&&(b/=60,f=2);2<=b&&f++;return a?d.JOT_siteRelTimeStrs[f].replace(k,Math.floor(b)):d.JOT_userRelTimeStrs[f].replace(k,Math.floor(b))}; })()
</script>
<script>


var webspace = {"scottyUrl":"/_/upload","isConsumer":false,"canPublishScriptToAnyone":true,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"sharingUrlPrefix":"/_/sharing","csiReportUri":"http://csi.gstatic.com/csi","sharingPolicy":"OPENED","analyticsAccountId":"","baseUri":"","enableUniversalAnalytics":false,"name":"www","domain":"john-pritchard.com","features":{"copySiteProgressUpdates":false,"horizontalNavLayout":true,"asyncPermanentDelete":false,"ritzSupport":true,"folderEmbed":true,"moreBackgroundTweaks":true,"flipFolderUrls":true,"animateNavigation":true,"driveInFileCabinet":true,"skiThemeIsDefault":true,"pdfEmbedSupport":false,"customHeaderThemes":true,"siteChromeSidebarWidgetsEditDialog":true,"animateToc":true,"canonicalLinkTagInHead":true,"analyticsTrackingForCorp":false,"driveImageEmbed":true,"siteChromeSystemFooterDialog":true,"plusOneButtonOptions":true,"plusOneButton":true,"adSenseDeprecate":true,"mapsEngineEmbeds":false,"photoAlbumsInOnePick":true,"docosHideNotificationSettings":true,"helpBox":true,"openEditorMenuWithAltShift":false,"siteNotice":true,"skiTheme":true,"siteChromeDialogsToolbar":true,"plusBadge":false,"ritzChartSupport":true,"sitesLoveFixes2014Q2":false,"siteChromeHorizontalNavigationDialog":true,"youTubeEmbedSize":true,"linkPickerKeyboardShortcuts":false,"adSenseDeprecateMsg":true,"htmlEmbed":true,"newEditorMenuKeyboardHandling":false,"plusPost":true,"photoAlbumsGPlusUrlSupport":true,"siteChromeHeaderDialog":true,"fileCabinetOptions":true,"sitesLoveFixes":true},"adsensePublisherId":null,"gvizVersion":1,"siteTitle":"john pritchard, software engineer","pageSharingId":"jotspot_page","plusPageId":"","onepickBaseUrl":"https://docs.google.com","siteNoticeRevision":null,"termsUrl":"http://sites.google.com/site/sites/system/app/pages/meta/terms?apps\u003d1","enableAnalytics":false,"siteNoticeMessage":null,"isPublic":true,"plusPageUrl":"","homePath":"/","sharingId":"jotspot","isAdsenseEnabled":true,"adsensePromoClickedOrSiteIneligible":true,"isStartPageEnabled":true,"domainAnalyticsAccountId":""};



webspace.gadgets = {"baseUri":"/system/app/pages/gadgets"};


webspace.user = {"uid":"","renderMobile":false,"primaryEmail":"guest","sessionIndex":"","namespaceUser":false,"displayNameOrEmail":"guest","namespace":"","hasAdminAccess":false,"guest_":true,"keyboardShortcuts":true,"domain":"","hasWriteAccess":false,"dasherUser":false,"userName":"guest"};

webspace.page = {"canDeleteWebspace":null,"locale":"en","state":"","wuid":"wuid:gx:56b2dc3c193af8c6","pageInheritsPermissions":null,"timeZone":"America/Los_Angeles","properties":{},"type":"text","canChangePath":true,"parentWuid":null,"revision":4,"title":"http-streaming","isRtlLocale":false,"bidiEnabled":false,"siteLocale":"en","name":"http-streaming","path":"/http-streaming","isSiteRtlLocale":false,"parentPath":null};
webspace.page.breadcrumbs = [{"title":"http-streaming","dir":"ltr","path":"/http-streaming","deleted":false}];


webspace.editorResources = {
  text: [
    'http://www.gstatic.com/sites/p/d6b7b0/system/js/codemirror.js',
    'http://www.gstatic.com/sites/p/d6b7b0/system/app/css/codemirror_css.css',
    'http://www.gstatic.com/sites/p/d6b7b0/system/js/trog_edit__en.js',
    'http://www.gstatic.com/sites/p/d6b7b0/system/app/css/trogedit.css',
    '/_/rsrc/1401942218000/system/app/css/editor.css',
    'http://www.gstatic.com/sites/p/d6b7b0/system/app/css/codeeditor.css',
    '/_/rsrc/1401942218000/system/app/css/camelot/editor-jfk.css'
  ],
  sitelayout: [
    'http://www.gstatic.com/sites/p/d6b7b0/system/app/css/sitelayouteditor.css'
  ]
};

var JOT_clearDotPath = 'http://www.gstatic.com/sites/p/d6b7b0/system/app/images/cleardot.gif';


var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];


webspace.siteTemplateId = false;


webspace.page.currentTemplate = {"title":"Web Page","path":"/system/app/pagetemplates/text"};



var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="http-streaming - john pritchard, software engineer" />
<meta itemprop="name" content="http-streaming - john pritchard, software engineer" />
<meta property="og:title" content="http-streaming - john pritchard, software engineer" />
<meta name="description" content="john pritchard, software engineer" />
<meta itemprop="description" content="john pritchard, software engineer" />
<meta id="meta-tag-description" property="og:description" content="john pritchard, software engineer" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="http://www.gstatic.com/sites/p/d6b7b0/system/app/themes/microlite/standard-css-microlite-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1401942218000/system/app/css/overlay.css?cb=microlite718px100goog-ws-right-nohead" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1401942218000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>http-streaming - john pritchard, software engineer</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<script src="//www.gstatic.com/caja/5678/caja.js"> </script>
<script src="http://www.gstatic.com/sites/p/d6b7b0/system/js/jot_caja.js"> </script>
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container">
</td>
</tr>
</table> 
</div> 
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-canvas-wrapper">
<div id="sites-canvas">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="display: none;">
</div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="display: none;" align="left">
<span id="sites-page-title" dir="ltr">http-streaming</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div dir="ltr"><p><b>Personal sketch of HTTP Streaming techniques</b><br /></p><p>While HTTP version 1.1 [<a href="http://tools.ietf.org/html/rfc2616" rel="nofollow">1</a>] [<a href="http://www.w3.org/Protocols/rfc2616/rfc2616.html" rel="nofollow">2</a>] defines a chunked encoding for streaming, there's a far simpler solution that has been at work since first generation HTTP (1.0) [<a href="http://tools.ietf.org/html/rfc1945" rel="nofollow">1</a>] [<a href="http://www.w3.org/Protocols/rfc1945/rfc1945.txt" rel="nofollow">2</a>] servers and proxies. </p><p>In my own experience, I independently rediscovered this technique on behalf of the Datek Streamer project in 1996. Datek was a retail brokerage specialized to professional and semi professional day traders that was acquired by Ameritrade in 2002 [<a href="http://www.ecommercetimes.com/story/17144.html" rel="nofollow">1</a>][<a href="http://finance.google.com/finance?q=AMTD">2</a>]. For the Streamer project, an ability to deliver continuous real-time stock quotes (last trade prices) to internet clients behind firewalls was required. The ability to use HTTP for streaming across existing proxies and firewalls (without any reported exceptions) was a fairly stupendous gift from the authors HTTP and its Proxies.</p><p><b>Less is More</b></p><p>Not including the "Content Length" header in an HTTP Response from the Server will cause a Proxy to tunnel the TCP stream from the Server to the Client.  </p><p>As the HTTP Client is the participatory initiator, the Content Type is expected to be irrelevant.  A Transfer Encoding is not employed.  This Streaming Response must employ protocol version "1.0" [<a href="http://tools.ietf.org/html/rfc1945#section-6" rel="nofollow">1</a>].  It is illegal under protocol version "1.1" [<a href="http://tools.ietf.org/html/rfc2616#section-4.3" rel="nofollow">1</a>]. </p><p>This feature of HTTP/1.0 will permit the Server and Client to hold an open TCP stream for Server writing and Client reading. Hence Streaming HTTP. Its limitations include the Server to Client unidirectionality, and the server host kernel limit boundary on the number of open TCP streams (file descriptors, etc).</p><p><b>Java Servlet</b></p><p>Unfortunately, most Java Servlet Containers [<a href="http://java.sun.com/products/servlet/" rel="nofollow">1</a>] [<a href="http://java.sun.com/products/servlet/reference/api/index.html" rel="nofollow">2</a>] don't permit such streaming. In my own implementations of the Java Servlet specification I've implemented streaming capabilities using this Servlet 2.2 superset API  <a href="http://www.google.com/search?q=HttpServletResponse"><font size="1"><span style="font-family:courier new,monospace">javax.servlet.http.HttpServletResponse</span></font></a></p><p style="margin-left:40px"><font face="courier new,monospace" size="1" style="color:rgb(0,0,102)">public void setBufferSize(int size);</font><font face="courier new,monospace" size="1"><span style="color:rgb(0,0,102)"><br /></span></font></p><div style="margin-left:80px"><font face="courier new,monospace" size="1"><span style="font-family:verdana">Initialize output buffering with buffer size (limit) greater than zero.  Disable output buffering with a buffer size less than one.  The implementor should accept very large numbers without attempting to allocate a very large buffer.</span></font><br /></div><p style="margin-left:40px"><font face="courier new,monospace" size="1" style="color:rgb(0,0,102)">public int getBufferSize();</font><font face="courier new,monospace" size="1"><span style="color:rgb(0,0,102)"><br /></span></font></p><div style="margin-left:80px"><font face="courier new,monospace" size="1"><span style="font-family:verdana">Return zero if output buffering has not been</span><span style="font-family:verdana"> initialized. Otherwise return the response entity body buffer size (limit)</span><span style="font-family:verdana">.</span></font><font face="courier new,monospace" size="1"><span style="font-family:verdana"><br /></span></font></div><p style="margin-left:40px"><font face="courier new,monospace" size="1" style="color:rgb(0,0,102)">public void flushBuffer() throws java.io.IOException;</font><font face="courier new,monospace" size="1"><span style="color:rgb(0,0,102)"><br /></span></font></p><div style="margin-left:80px"><font face="courier new,monospace" size="1"><span style="font-family:verdana">Write any buffered data to output. Will commit the HTTP</span><span style="font-family:verdana"> response as required. </span></font><br /></div><p style="margin-left:40px"><font face="courier new,monospace" size="1" style="color:rgb(0,0,102)">public void resetBuffer();</font><font face="courier new,monospace" size="1"><span style="color:rgb(0,0,102)"><br /></span></font></p><div style="margin-left:80px"><font face="courier new,monospace" size="1"><span style="font-family:verdana">Initialize dynamic buffering, drop any existing buffer contents.  If the implementor is not buffering by default, start buffering as if set buffer size was called with the argument integer max value. </span></font><br /></div><p style="margin-left:40px;color:rgb(0,0,102)"><font face="courier new,monospace" size="1">public void send() throws java.io.IOException;</font></p><div style="margin-left:80px"><font face="courier new,monospace" size="1" style="font-family:verdana">Commit HTTP response. </font><br /></div><p>Dynamic buffering accepts all content for the automated production of a Content Length value.  The Servlet Container (effectively) calls "flush buffer" on the normal return of the Servlet "service" method.<br /></p><p>This API is compatible with Java Servlet Specification.  In version 2.1 [<a href="http://java.sun.com/products/servlet/2.1/servlet-2.1.pdf" rel="nofollow">1</a>] buffering was undefined.  The 2.2 version of the Specification introduced response buffering, and states in section 6.2 that the Container is not required to perform Response Buffering.  </p><p><b>Optimization</b></p><p>In my experience a really nice end to end Content Delivery over HTTP performance is achieved with 512 byte block size for writing payload (Entity Body) to HTTP streams. This works for Flash and QuickTime content in particular, which are among the most sensitive formats for their streaming content.</p><p>In my estimation (from the perspective of platform independence) this works well for two reasons.  First, the application block size is likely to be less than or equal to the TCP/IP packet (block) size.  Second, the application write operation will return quickly and permit the network layer access to the CPU when it needs it for Transmission Control.<br /></p><p><br /></p><p style="text-align:center"><font size="1" style="color:rgb(102,102,102)"><font face="courier new,monospace">Monday December 10, 2007</font></font><br /></p></div><div dir="ltr"><p><br /></p></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div id="sites-attachments-container">
</div>
</div>
</div> 
</td> 
<td id="sites-chrome-sidebar-right" class="sites-layout-sidebar-right" style="width:100px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_3777376697398722" class="sites-embed"><div class="sites-embed-content sites-sidebar-nav"><ul jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="/home" jotId="wuid:gx:13f29138d84b4688" class="sites-navigation-link">home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/apd" jotId="wuid:gx:79a4193812bac66a" class="sites-navigation-link">apd</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/cpi" jotId="wuid:gx:401dd7e7b42e2bd9" class="sites-navigation-link">cpi</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/edo6" jotId="wuid:gx:56d652d243a64b21" class="sites-navigation-link">edo6</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/http-hyperlink" jotId="wuid:gx:720292ede80c1485" class="sites-navigation-link">http-hyperlink</a></div></li><li class=""><div class="current-bg" jotId="wuid:gx:56b2dc3c193af8c6" dir="ltr" style="padding-left: 5px;">http-streaming</div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/ifa" jotId="wuid:gx:21b1a91ed868aeed" class="sites-navigation-link">ifa</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/iou" jotId="wuid:gx:14c671639dc1176" class="sites-navigation-link">iou</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/jing" jotId="wuid:gx:2c0e8d0207d14afd" class="sites-navigation-link">jing</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/openfoam" jotId="wuid:gx:4aab94a246bfad3d" class="sites-navigation-link">openfoam</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/pico-servlets" jotId="wuid:gx:1dfd802d4ad6efbd" class="sites-navigation-link">pico-servlets</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/resp" jotId="wuid:gx:dea3b1b58fc2ff2" class="sites-navigation-link">resp</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/rhinojetty" jotId="wuid:gx:73d2d3a5adceb57c" class="sites-navigation-link">rhinojetty</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/sx" jotId="wuid:gx:2b8e7cb272f35b33" class="sites-navigation-link">sx</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/syntelos" jotId="wuid:gx:79d632fa82fe8d50" class="sites-navigation-link">syntelos</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:3aaad72d0f83f75a" class="sites-navigation-link">Sitemap</a></div></li></ul></div></div>
</td>
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=http://sites.google.com/a/john-pritchard.com/www/http-streaming">Sign in</a>|<a class="sites-system-link" href="/system/app/pages/recentChanges">Recent Site Activity</a>|<a class="sites-system-link" href="/system/app/pages/reportAbuse" target="_blank">Report Abuse</a>|<a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a>|<span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>

<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="http://www.gstatic.com/sites/p/d6b7b0/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
    
        sites.core.Analytics.createTracker();
        sites.core.Analytics.trackPageview();
      
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("3777376697398722", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_3777376697398722');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('http://www.john-pritchard.com/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'http://csi.gstatic.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
 //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          if (webspace.features.siteNotice) {
            JOT_setupNoticeManager();
          }
        </script>
<script type="text/javascript">
              JOT_postEvent('renderPlus', null, 'sites-chrome-main');
            </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
